/* ==UserStyle==

@name			Stylus Dracula
@namespace		https://github.com/Himither
@homepageURL		https://github.com/Himither/Stylus-Dracula
@supportURL		https://github.com/Himither/Stylus-Dracula/issues
@version		1.0.10
@updateURL		https://raw.githubusercontent.com/Himither/Stylus-Dracula/master/stylus-dracula.user.css
@description		Improved dracula theme covering the whole extension instead of just the editor
@author			Himither
@license		MIT
@preprocessor		stylus

@var checkbox		popup-scrollbar		"Hide Pop-up scrollbar"		0

==/UserStyle== */
@-moz-document regexp("chrome-extension://.*"),
regexp("moz-extension://.*"),
regexp("^\\w+-extension://.+") {
	:root {
		/* https://draculatheme.com/contribute#color-palette */
		--background: #282A36;
		--currentLine: #44475A;
		--foreground: #F8F8F2;
		--comment: #6272A4;
		--cyan: #8BE9FD;
		--green: #50FA7B;
		--orange: #FFB86C;
		--pink: #FF79C6;
		--purple: #BD93F9;
		--red: #FF5555;
		--yellow: #F1FA8C;
		--fg: var(--foreground);
		--bg: var(--background);

		/* Turns out you can right-click inspect extension popups in Google Chrome, unlike in Firefox... */
		--cmin: var(--orange); /* Hovered labels belonging to active styles */
		--c00: var(--fg); /* ??? */
		--c10: var(--fg); /* ??? */
		--c20: var(--fg); /* ??? */
		--c30: var(--orange); /* Hovered labels belonging to unactive styles */
		--c40: var(--fg); /* Icons i:hover, .i.info and .i-config */
		--c45: var(--red); /* ??? */
		--c50: var(--currentLine); /* Disabled label and find styles -> style borders */
		--c60: var(--currentLine); /* Disabled styles, their labels and options border */
		--c65: var(--foreground); /* Style order number in the popup */
		--c70: var(--bg); /* Color of background gradient for popup -> Find Styles */
		--c75: var(--currentLine); /* Scrollbar & manage page section hover dotted underline */
		--c80: var(--currentLine); /* Dotted borders */
		--c85: var(--bg); /* Some horizontal borders and gradient atbottom of find styles*/
		--c90: var(--bg); /* Options footer */
		--c95: var(--currentLine); /* Find styles top gradient and unhovered style footer */
		--c97: var(--bg); /* #header (sidemenu of editor) background */
		--c98: var(--bg); /* Editor background */
		--c99: var(--red); /* ??? */
		--c100: var(--red); /* ??? */
		--cmax: var(--red); /* ??? */
		--c50: transparent; /* Border around search results */
		--accent-1: var(--green); /* Checkbox mark for user css on manage page */
		--accent-2: var(--green); /* Checked slider checkbox know thumb */
		--accent-3: var(--red); /* ??? */
		--gold1: var(--purple); /* ??? */
	}

	/* ------------------------------------------------------ General */
	*::selection {
		color: var(--bg);
		background-color: var(--pink);
	}

	.split-btn-menu {
		border-radius: 4px;
		border-color: var(--purple);
	}

	.split-btn-menu a:hover {
		background-color: transparent;
	}

	#stylus :is(a, button) {
		cursor: pointer;
	}

	#stylus .split-btn > button:has(+ button) {
		border-radius: 4px 0 0 4px;
	}

	#stylus .split-btn > button + button {
		border-radius: 0 4px 4px 0;
	}

	/* Needs to be important */
	#stylus .split-btn-pedal {
		margin-left: 1px !important;
	}

	/* ------------------------------------------------------ Extension Popup */
	if popup-scrollbar {
		#stylus:has(#stylus-popup) {
			scrollbar-width: none;
		}
	}

	#stylus-popup {
		min-width: 599px !important; /* This is the max length for two displaying two columns  */
	}


	#stylus-popup #options-btn:hover svg {
		color: var(--pink);
	}

	#stylus-popup div {
		box-shadow: none;
		background-color: var(--bg);
	}

	#stylus-popup #search-results {
		background: none;
	}

	#stylus-popup .search-result {
		background-color: var(--currentLine);
	}

	#stylus-popup .search-result:hover {
		border-color: var(--comment);
	}

	.search-result-meta {
		justify-content: space-evenly;
	}
	
	#stylus-popup :is(.search-result-info, .search-result-screenshot) {
		border-radius: 4px;
	}
	
	#stylus-popup .search-result-meta::before {
		border-radius: 0 0 4px 4px;
	}

	#stylus-popup .search-result [data-type] {
		background-color: transparent;
	}

	/* ------------------------------------------------------ Edit Page */
	div#header {
		box-shadow: none !important;
	}

	details#options section.aligned {
		display: flex !important;
		flex-direction: column !important;
		row-gap: 4px !important;
	}

	details#options section.aligned > div {
		display: flex !important;
		justify-content: space-between !important;
	}

	details#options section.aligned > div > div {
		margin-left: auto !important;
		order: 1 !important;
	}

	section#usw-data {
		display: flex !important;
		flex-direction: column !important;
	}

	section#usw-data > div {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		align-items: center;
	}

	section#usw-data > div > input {
		width: 50% !important;
	}

	#header-resizer {
		opacity: 0.25 !important;
		color: var(--comment) !important;
		box-shadow: none !important;
	}

	#header-resizer:active {
		opacity: 1;
		color: var(--comment) !important;
	}

	div:is(.CodeMirror-active, .CodeMirror-focused, .search-target-editor) {
		box-shadow: none !important;
	}

	div.section > div.CodeMirror {
		margin: 8px 0 !important;
		border-radius: 4px !important;
	}

	div.resize-grip,
	div.resize-grip::after {
		color: var(--currentLine) !important;
	}

	div.CodeMirror-gutter-background {
		background-color: var(--currentLine) !important;
	}

	.CodeMirror-linenumber {
		color: var(--currentLine) !important;
	}

	.CodeMirror-linenumber:hover,
	.CodeMirror-activeline .CodeMirror-linenumber {
		color: var(--fg) !important;
	}

	div.CodeMirror-activeline-background {
		background-color: var(--currentLine) !important;
	}

	/* ------------------------------------------------------ Mangage Page */
	#manage-settings {
		padding: 0 4px;
	}

	#manage-settings .filter-selection {
		margin-bottom: 4px;
	}

	#manage-settings .filter-selection:hover,
	#manage-settings #filters label {
		background-color: transparent;
	}


	#manage-settings .filter-selection .select-wrapper {
		left: 28px;
	}

	#manage-settings #search-wrapper input {
		border-radius: 4px 0 0 4px;
	}

	#manage-settings #search-wrapper select {
		border-radius: 0 4px 4px 0;
		margin-left: 2px;
	}

	#manage-settings #manage-text {
		margin-top: 4px;
		display: flex;
		flex-direction: column;
		row-gap: 4px;
	}

	#manage-settings #manage-text span::after {
		content: "";
	}

	/* Style injection order bottom text */
	#message-box #message-box-contents section[data-prio] header {
		background-color: var(--purple);
		color: var(--bg);
	}

	/* ------------------------------------------------------ Install Page */
	h2.install-show {
		color: var(--pink) !important;
	}

	/* ------------------------------------------------------ Dialog, Modal */
	#message-box > div,
	div#help-popup,
	body#stylus-options {
		opacity: 0.95 !important;
		border-radius: 8px !important;
	}

	#message-box-title,
	#help-popup > div.title,
	body#stylus-options header {
		background-color: var(--currentLine);
		border-radius: 8px 8px 0 0 !important;
	}

	div#message-box.danger > div > div#message-box-title {
		background-color: var(--red) !important;
	}

	body#stylus-options {
		border-color: transparent !important;
	}

	body#stylus-options header {
		border-bottom-color: transparent !important;
		min-width: 700px !important;
	}

	body#stylus-options div.block {
		padding-top: 8px !important;
		padding-bottom: 8px !important;
	}

	body#stylus-options div.items {
		display: flex !important;
		flex-direction: column !important;
		row-gap: 8px !important;
	}

	body#stylus-options div.items label span:nth-child(2):not(:has(+ input)),
	body#stylus-options div.items label input:nth-child(3) {
		margin-left: auto !important;
	}

	body#stylus-options div.items span:not(.sync-status) {
		order: 0 !important;
	}

	body#stylus-options div.actions button.connect {
		border-radius: 4px 0 0 4px !important;
	}

	body#stylus-options div.actions button.connect + button {
		border-radius: 0 4px 4px 0 !important;
		margin-left: 1px
	}

	body#stylus-options footer {
		border-radius: 0 0 8px 8px !important;
	}

	#message-box-buttons {
		background-color: var(--bg);
		border-radius: 0 0 8px 8px !important;
	}

	div#search-replace-dialog {
		padding-top: .75em !important;
		border-radius: 0 0 8px 8px !important;
		border-color: transparent !important;
	}

	div#search-replace-dialog > div {
		padding-left: .75em !important;
	}

	#search-replace-dialog a:hover {
		text-decoration: none !important;
	}

	#search-replace-dialog [data-action="case"][data-enabled]::after {
		border-color: var(--cyan) !important;
	}

	div#search-replace-dialog div[data-type="status"] {
		border-radius: 0 0 8px 8px !important;
	}

	div#search-replace-dialog textarea {
		box-shadow: none;
		border-radius: 4px !important;
	}

	#search-replace-dialog > div {
		background-color: var(--bg) !important;
	}

	/* ------------------------------------------------------ Buttons, Inputs, Textareas, Selects, Summaries */
	#stylus input,
	#stylus button,
	#stylus select,
	#stylus textarea {
		background-color: var(--currentLine);
		border-color: transparent;
		border-radius: 4px;
	}

	#stylus input:not([disabled]):hover,
	#stylus button:not([disabled]):hover,
	#stylus select:not([disabled]):hover {
		background-color: var(--currentLine);
		border-color: var(--comment);
		box-shadow: none;
	}

	/* Input */
	input:not([disabled]):focus,
	select:not([disabled]):focus {
		box-shadow: none !important;
	}

	:is([type="checkbox"], [type="radio"]):not(:checked):not(.slider) {
		background-color: var(--bg) !important;
		border-color: var(--currentLine) !important;
	}

	input[type="range"] {
		cursor: pointer;
		appearance: none;
		height: 8px !important;
		border-color: transparent !important;
	}

	input[type="range"]:hover {
		border-color: transparent !important;
	}

	input[type="range"]::-webkit-slider-thumb,
	input[type="range"]::-moz-range-thumb {
		cursor: e-resize;
		box-sizing: border-box;
		width: 12px;
		height: 12px;
		background-color: var(--purple);
		border-color: var(--purple);
	}

	label:has(:is(input, select):hover) {
		color: var(--orange) !important;
	}

	input[type="radio"]:checked::after {
		background-color: var(--orange) !important;
	}

	input.slider {
		cursor: pointer;
		height: 8px !important;
		box-shadow: none;
	}

	input.slider::after {
		box-shadow: none !important; /* Not !important to keep using accent-2 :checked */
		border-color: var(--currentLine) !important;
	}

	input.slider:checked::after {
		border-color: transparent !important;
	}

	/* Buttons */
	button {
		background-image: unset !important;
	}

	button.install:hover {
		color: var(--cyan) !important;
	}


	button#save-button:not([disabled]) {
		background-color: var(--purple);
		border-color: transparent;
	}

	button#save-button:not([disabled]):hover {
		color: var(--currentLine) !important;
		border-color: transparent !important;
	}

	button#save-button:not([disabled]) + button.split-btn-pedal {
		background-color: var(--purple);


		button#save-button:not([disabled]) + button.split-btn-pedal:hover {
			color: var(--currentLine);
		}

		border-color: transparent;
	}

	/* Reset, Cancel & Delete Buttons */
	button[data-cmd="default"]:not([disabled]),
	button.reset:not([disabled]),
	button#reset:not([disabled]),
	button.delete:not([disabled]) {
		color: var(--red) !important;
	}

	button[data-cmd="default"]:not([disabled]):hover,
	button.reset:not([disabled]):hover,
	button#reset:not([disabled]):hover,
	button.delete:not([disabled]):hover {
		border-color: var(--red) !important;
	}

	div#message-box.danger button[data-focused-via-click] {
		background-color: var(--red) !important;
	}

	div#message-box.danger button[data-focused-via-click]:hover {
		border-color: white !important;
	}

	/* Summaries*/
	body#stylus-manage summary h2 {
		vertical-align: sub !important;
	}

	details#publish summary::marker,
	details#publish summary h2 {
		color: var(--fg) !important;
	}

	summary:hover,
	details#publish summary:hover h2,
	details#publish:has(summary:hover) summary::marker {
		color: var(--pink) !important;
	}

	/* ------------------------------------------------------ Links */
	#stylus a,
	#stylus #toc li {
		color: var(--cyan);
		text-decoration: none;
	}

	#stylus a:not(:has(i)):not(.injection-order-toggle):hover,
	#stylus #toc li:hover {
		color: var(--cyan);
		text-decoration: underline;
	}

	#stylus #toc li:hover {
		background-color: var(--currentLine);
		border-radius: 4px;
	}

	/* ------------------------------------------------------ Icons */
	#stylus i,
	#stylus #usercss-wiki i.i-external {
		color: var(--fg);
	}

	#stylus i:hover:not(.i-usercss),
	#stylus a:hover i,
	#stylus a#usercss-wiki:hover i.i-external {
		color: var(--pink);
	}

	#stylus a#usercss-wiki:hover i {
		filter: unset;
	}

	#stylus i.i-close,
	#stylus i.i-close:hover,
	#stylus a.remove-applies-to:hover i.i-minus {
		color: var(--red);
	}

	#stylus a.add-applies-to:hover i.i-plus {
		color: var(--green);
	}

	#stylus a.injection-order-toggle::after {
		color: var(--yellow);
	}

	#stylus a.injection-order-toggle:hover::after {
		color: var(--yellow);
	}
}