/* ==UserStyle==

@name				Stylus Dracula
@namespace			https://github.com/Himither
@homepageURL			https://github.com/Himither/Stylus-Dracula
@supportURL			https://github.com/Himither/Stylus-Dracula/issues
@version			1.0.5
@updateURL			https://raw.githubusercontent.com/Himither/Stylus-Dracula/master/stylus-dracula.user.css
@description			Improved dracula theme covering the whole extension instead of just the editor
@author				Himither
@license			MIT

==/UserStyle== */
@-moz-document regexp("chrome-extension://.*"),
regexp("moz-extension://.*"),
regexp("^\\w+-extension://.+") {
	:root {
		/* https://draculatheme.com/contribute#color-palette */
		--background: #282A36;
		--currentLine: #44475A;
		--foreground: #F8F8F2;
		--comment: #6272A4;
		--cyan: #8BE9FD;
		--green: #50FA7B;
		--orange: #FFB86C;
		--pink: #FF79C6;
		--purple: #BD93F9;
		--red: #FF5555;
		--yellow: #F1FA8C;
		--fg: var(--foreground);
		--bg: var(--background);
		/* Overwriting root colors, because I dunno how to look at the CSS from Stylus */
		/* Color of hovered labels belonging to active styles */
		--cmin: var(--orange);
		--c00: var(--fg);
		--c10: var(--fg);
		--c20: var(--fg);
		--c30: var(--orange);
		/* Color of hovered labels belonging to unactive styles */
		--c40: var(--green);
		--c45: var(--green);
		--c50: var(--currentLine);
		/* Color of disabled label and find styles -> style borders */
		--c60: var(--currentLine);
		/* Color disabled styles, their labels and options border */
		--c65: var(--foreground);
		/* Color of style order number in the popup */
		--c70: var(--bg);
		/* Color of background gradient for popup -> Find Styles */
		--c75: var(--currentLine);
		/* Color of scrollbar */
		--c80: var(--currentLine);
		/* Color of dotted borders */
		--c85: var(--bg);
		/* Color of some horizontal borders and gradient atbottom of find styles*/
		--c90: var(--bg);
		/* Color of options footer */
		--c95: var(--bg);
		--c97: var(--bg);
		/* Color of #header (sidemenu of editor) background */
		--c98: var(--bg);
		/* Color of editor background */
		--c99: var(--bg);
		--c100: var(--bg);
		--cmax: var(--bg);
		--50: var(--purple);
		--accent-1: var(--red);
		--accent-2: var(--cyan);
		--accent-3: var(--red);
		--gold1: var(--purple);
	}

	/* ------------------------------------------------------ General */
	*::selection {
		color: var(--bg);
		background-color: var(--pink) !important;
	}

	/* ------------------------------------------------------ Extension Popup */
	body:not(:is(#stylus-edit, #stylus-manage, #stylus-options, #stylus-install-usercss)) div > button:has(+ button) {
		border-radius: 4px 0 0 4px !important;
	}

	body:not(:is(#stylus-edit, #stylus-manage, #stylus-options, #stylus-install-usercss)) div > button + button {
		border-radius: 0 4px 4px 0 !important;
		margin-left: 1px !important;
	}

	body:not(:is(#stylus-edit, #stylus-manage, #stylus-options, #stylus-install-usercss)) div {
		box-shadow: none !important;
		background-color: var(--bg) !important;
	}

	body:not(:is(#stylus-edit, #stylus-manage, #stylus-options, #stylus-install-usercss)) div:not(:has(div)) {
		border-color: var(--white) !important;
		border-radius: 4px !important;
	}

	body:not(:is(#stylus-edit, #stylus-manage, #stylus-options, #stylus-install-usercss)) div:not(:has(div, button)) *:hover {
		background-color: var(--currentLine) !important;
		color: var(--cyan) !important;
	}

	body:not(:is(#stylus-edit, #stylus-manage, #stylus-options, #stylus-install-usercss)) *:not(label, a) {
		color: var(--fg) !important;
	}

	/* ------------------------------------------------------ Edit Page */
	div#header {
		box-shadow: none !important;
	}

	div.split-btn-menu {
		border-radius: 4px !important;
		border-color: var(--fg) !important;
	}

	div.split-btn-menu a:hover {
		color: var(--cyan) !important;
		background-color: var(--currentLine) !important;
	}

	details#options section.aligned {
		display: flex !important;
		flex-direction: column !important;
		row-gap: 4px !important;
	}

	details#options section.aligned > div {
		display: flex !important;
		justify-content: space-between !important;
	}

	details#options section.aligned > div > div {
		margin-left: auto !important;
		order: 1 !important;
	}

	section#usw-data {
		display: flex !important;
		flex-direction: column !important;
	}

	section#usw-data > div {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		align-items: center;
	}

	section#usw-data > div > input {
		width: 50% !important;
	}

	#header-resizer {
		opacity: 0.25 !important;
		color: var(--comment) !important;
		box-shadow: none !important;
	}

	#header-resizer:active {
		opacity: 1;
		color: var(--comment) !important;
	}

	div:is(.CodeMirror-active, .CodeMirror-focused, .search-target-editor) {
		box-shadow: none !important;
	}

	div.section > div.CodeMirror {
		margin: 8px 0 !important;
		border-radius: 4px !important;
	}

	div.resize-grip,
	div.resize-grip::after {
		color: var(--currentLine) !important;
	}

	div.CodeMirror-gutter-background {
		background-color: var(--currentLine) !important;
	}

	.CodeMirror-linenumber {
		color: var(--currentLine) !important;
	}

	.CodeMirror-linenumber:hover,
	.CodeMirror-activeline .CodeMirror-linenumber {
		color: var(--fg) !important;
	}

	div.CodeMirror-activeline-background {
		background-color: var(--currentLine) !important;
	}

	/* ------------------------------------------------------ Mangage Page */
	#manage-settings {
		padding: 0 4px !important;
	}

	#manage-settings .filter-selection .select-wrapper {
		left: 28px !important;
	}

	#manage-settings .filter-selection {
		margin-bottom: 4px !important;
	}

	#manage-settings #search-wrapper input {
		border-radius: 4px 0 0 4px !important;
	}

	#manage-settings #search-wrapper select {
		border-radius: 0 4px 4px 0 !important;
		margin-left: 2px !important;
	}

	#manage-settings #manage-text {
		margin-top: 4px !important;
		display: flex !important;
		flex-direction: column !important;
		row-gap: 4px !important;
	}

	#manage-settings #manage-text span::after {
		content: ""
	}

	#message-box #message-box-contents {
		border-color: transparent !important;
	}

	#message-box #message-box-contents section[data-prio] header {
		background-color: var(--purple);
		color: var(--bg) !important;
	}

	/* ------------------------------------------------------ Install Page */
	h2.install-show {
		color: var(--pink) !important;
	}

	/* ------------------------------------------------------ Dialog, Modal */
	#message-box > div,
	div#help-popup,
	body#stylus-options {
		opacity: 0.95 !important;
		border-radius: 8px !important;
	}

	#message-box-title,
	#help-popup > div.title,
	body#stylus-options header {
		background-color: var(--currentLine);
		border-radius: 8px 8px 0 0 !important;
	}

	div#message-box.danger > div > div#message-box-title {
		background-color: var(--red) !important;
	}

	body#stylus-options {
		border-color: transparent !important;
	}

	body#stylus-options header {
		border-bottom-color: transparent !important;
		min-width: 700px !important;
	}

	body#stylus-options div.block {
		padding-top: 8px !important;
		padding-bottom: 8px !important;
	}

	body#stylus-options div.items {
		display: flex !important;
		flex-direction: column !important;
		row-gap: 8px !important;
	}

	body#stylus-options div.items label span:nth-child(2):not(:has(+ input)),
	body#stylus-options div.items label input:nth-child(3) {
		margin-left: auto !important;
	}

	body#stylus-options div.items span:not(.sync-status) {
		order: 0 !important;
	}

	body#stylus-options div.actions button.connect {
		border-radius: 4px 0 0 4px !important;
	}

	body#stylus-options div.actions button.connect + button {
		border-radius: 0 4px 4px 0 !important;
		margin-left: 1px
	}

	body#stylus-options footer {
		border-radius: 0 0 8px 8px !important;
	}

	#message-box-buttons {
		background-color: var(--bg);
		border-radius: 0 0 8px 8px !important;
	}

	div#search-replace-dialog {
		padding-top: .75em !important;
		;
		border-radius: 0 0 8px 8px !important;
		border-color: transparent !important;
	}

	div#search-replace-dialog > div {
		padding-left: .75em !important;
	}

	#search-replace-dialog a:hover {
		text-decoration: none !important;
	}

	#search-replace-dialog [data-action="case"][data-enabled]::after {
		border-color: var(--cyan) !important;
	}

	div#search-replace-dialog div[data-type="status"] {
		border-radius: 0 0 8px 8px !important;
	}

	div#search-replace-dialog textarea {
		box-shadow: none;
		border-radius: 4px !important;
	}

	#search-replace-dialog > div {
		background-color: var(--bg) !important;
	}

	/* ------------------------------------------------------ Button, Input, Textarea, Select, Summary */
	input,
	button,
	select,
	textarea {
		background-color: var(--currentLine) !important;
		border-color: transparent !important;
		border-radius: 4px !important;
	}

	input:not([disabled]):hover,
	button:not([disabled]):hover,
	select:not([disabled]):hover {
		border-color: var(--comment) !important;
		box-shadow: none !important;
	}

	/* Input */
	input:not([disabled]):focus,
	select:not([disabled]):focus {
		box-shadow: none !important;
	}

	input[type=range] {
		appearance: none;
		height: 6px !important;
	}

	label:has(:is(input, select):hover) {
		color: var(--orange) !important;
	}

	input[type="radio"]:checked::after {
		background-color: var(--orange) !important;
	}

	input.slider::after {
		box-shadow: none !important;
		background-color: var(--cyan) !important;
		border-color: var(--currentLine) !important;
	}

	input.slider:checked::after {
		border-color: transparent !important;
	}

	/* Button */
	button {
		background-image: unset !important;
	}

	button.install:hover {
		color: var(--cyan) !important;
	}

	button#save-button,
	button#usw-publish-style,
	button#file-all-styles {
		border-radius: 4px 0 0 4px !important;
	}

	button#usw-disconnect,
	button.split-btn-pedal {
		border-radius: 0 4px 4px 0 !important;
		margin-left: 1px !important;
	}

	button#save-button:not([disabled]) {
		background-image: unset;
		background-color: var(--purple) !important;
	}

	button#save-button:not([disabled]):hover {
		color: var(--currentLine) !important;
		border-color: transparent !important;
	}

	button#save-button + button.split-btn-pedal {
		background-image: unset !important;
		border-radius: 0 4px 4px 0 !important;
		margin-left: 1px !important;
		border-color: transparent !important;
	}

	button#save-button:not([disabled]) + button.split-btn-pedal:hover {
		color: var(--currentLine) !important;
	}

	button#save-button:not([disabled]) + button.split-btn-pedal {
		background-color: var(--purple) !important;
	}

	/* Reset & Cancel Button */
	button[data-cmd="default"]:not([disabled]),
	button.reset:not([disabled]),
	button#reset:not([disabled]) {
		color: var(--red) !important;
	}

	button[data-cmd="default"]:not([disabled]):hover,
	button.reset:not([disabled]):hover,
	button#reset:not([disabled]):hover {
		border-color: var(--red) !important;
	}

	div#message-box.danger button[data-focused-via-click] {
		background-color: var(--red) !important;
	}

	div#message-box.danger button[data-focused-via-click]:hover {
		border-color: white !important;
	}

	/* Summary*/
	body#stylus-manage summary h2 {
		vertical-align: sub !important;
	}

	details#publish summary::marker,
	details#publish summary h2 {
		color: var(--fg) !important;
	}

	summary:hover,
	details#publish summary:hover h2,
	details#publish:has(summary:hover) summary::marker {
		color: var(--pink) !important;
	}

	/* ------------------------------------------------------ Links */
	a,
	#toc li {
		color: var(--cyan) !important;
		text-decoration: none !important;
	}

	a:hover,
	#toc li:hover {
		color: var(--cyan) !important;
		text-decoration: underline !important
	}

	#toc li:hover {
		background-color: var(--currentLine) !important;
		border-radius: 4px !important;
	}

	/* ------------------------------------------------------ Icons */
	i {
		color: var(--fg) !important;
	}

	i:hover {
		color: var(--pink) !important;
	}

	i.i-close,
	a.remove-applies-to:hover i.i-minus {
		color: var(--red) !important;
	}

	a.add-applies-to:hover i.i-plus {
		color: var(--green) !important;
	}

	a.injection-order-toggle:hover::after {
		color: var(--yellow) !important;
	}
}